<form action="" [formGroup]="contactForm">
  <h1>Contact Us</h1>
  <div class="userName">
    <div class="name first">
      <label class="req" for="firstname">First Name</label>
      <input
        type="text"
        name="firstname"
        id="firstname"
        formControlName="firstname"
      />
      @if( (contactForm.controls['firstname'].invalid) &&
      (contactForm.controls['firstname'].touched)) {
      <span class="error">This field is required</span>
      }
    </div>
    <div class="name second">
      <label class="req" for="lastname">Last Name</label>
      <input
        type="text"
        name="lastname"
        id="lastname"
        formControlName="lastname"
      />
      @if ((contactForm.controls['lastname'].touched) &&
      (contactForm.controls['lastname'].invalid)) {
      <span class="error">This field is required</span>
      }
    </div>
  </div>
  <div class="email">
    <label class="req" for="email">Email Address</label>
    <input type="email" name="email" id="email" formControlName="email" />
    @if ((contactForm.controls['email'].touched) &&
    (contactForm.controls['email'].errors?.['required'])) {
    <span class="error">This field is required</span>
    } @else if (contactForm.controls['email'].errors?.['email']) {
    <span class="error">Please enter a valid email address</span>
    }
    <span></span>
  </div>
  <div class="queryType">
    <p class="req">Query Type</p>
    <div class="type">
      <input
        type="radio"
        name="querytype"
        id="general"
        formControlName="querytype"
        value="general"
      />
      <label for="general">General Enquiry</label>
    </div>
    <div class="type">
      <input
        type="radio"
        name="querytype"
        id="support"
        formControlName="querytype"
        value="support"
      />
      <label for="support">Support Request</label>
    </div>
    @if((contactForm.controls['querytype'].touched) &&
    (contactForm.controls['querytype'].invalid)) {
    <span class="error">Please select a query type</span>
    }
  </div>
  <div class="message">
    <label class="req" for="message">Message</label>
    <textarea name="message" formControlName="message" id="message"></textarea>
    @if((contactForm.controls['message'].touched) &&
    (contactForm.controls['message'].invalid)) {
    <span class="error">This field is required</span>
    }
  </div>
  <div class="check">
    <input
      type="checkbox"
      name="consent"
      id="consent"
      formControlName="consent"
    />
    <label class="req" for="consent"
      >I consent to being contacted by the team</label
    >
    <br />
    @if ((contactForm.controls['consent'].invalid) &&
    (contactForm.controls['consent'].touched)) {
    <span class="error">
      To submit this form, please consent to being contacted</span
    >
    }
  </div>
  <button (click)="submit()" #btn type="submit">Submit</button>
</form>
@if (formsubmit ) {
<app-success></app-success>
}
